{"version":3,"sources":["webpack:///./src/views/playerFigure.vue?dd8e","webpack:///src/views/playerFigure.vue","webpack:///./src/views/playerFigure.vue?fe92","webpack:///./src/views/playerFigure.vue","webpack:///./src/components/playerFigure/lib/imgSource.js","webpack:///./src/components/playerFigure/PictureEdit.vue?9617","webpack:///./src/components/playerFigure/PictureEdit.vue?19be","webpack:///./src/components/playerFigure/lib/posStringToNumber.js","webpack:///./src/components/playerFigure/lib/eraseCanvasTool.js","webpack:///src/components/playerFigure/PictureEdit.vue","webpack:///./src/components/playerFigure/PictureEdit.vue?1134","webpack:///./src/components/playerFigure/PictureEdit.vue","webpack:///./src/components/playerFigure/PictureCombine.vue?d3fb","webpack:///src/components/playerFigure/PictureCombine.vue","webpack:///./src/components/playerFigure/PictureCombine.vue?af65","webpack:///./src/components/playerFigure/PictureCombine.vue","webpack:///./src/views/playerFigure.vue?cc5a","webpack:///./src/components/playerFigure/PictureCombine.vue?2955","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/lib/mobileRouterProtect.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","staticRenderFns","playerFigurevue_type_script_lang_js_","mixins","mobileRouterProtect","views_playerFigurevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","oneBodySrc","headLessBodyGroupSrc","createUntaintImage","src","img","document","createElement","oneBodyImg","headLessBodyGroupImg","module","exports","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PictureEdit_vue_vue_type_style_index_0_id_361db587_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PictureEdit_vue_vue_type_style_index_0_id_361db587_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","id","imgSrc","length","imgData","style","on","mousedown","$event","editCanvas","mousemove","getEraserPos","width","canvasDimension","height","mode","stopPropagation","moveCropFrame","_e","click","reInput","icon","_v","_s","lang","done","directives","rawName","value","expression","type","min","max","step","domProps","input","resize","__r","scale","target","cutCanvas","removeCropFrame","eraserStyle","staticStyle","font-weight","undo","reset","addPicture","posStringToNumber","Number","slice","esm_typeof","result","JSON","parse","stringify_default","_i","_Object$keys","keys_default","key","eraseCanvas","x","y","radius","dataImage","oneFourthPixelsGroup","getOneFourthPixelsGroup","removingPixels","boundary","i","j","pixelLeft","pixelRight","pixelTop","pixelBottom","targetPixelsLeftTop","pixelsToPosition","targetPixelsRightTop","targetPixelsLeftBottom","targetPixelsRightBottom","targetPixels","forEach","p","includes","push","data","row","pixels1","Math","sqrt","pixels2","pixels","round","widthDiff","heightDiff","limit","PictureEditvue_type_script_lang_js_","mounted","_this$$store$state$pl","$store","state","playerFigure","drawCanvas","historyUpdate","historyData","top","left","transform","cropFrameDimension","computed","context","querySelector","getContext","canvasContainer","getElementsByClassName","canvasDOM","cursor","methods","commit","$router","uploadData","_this$$store$state$pl2","getImageData","confirm","window","concat","path","event","clearRect","initCanvas","shift","imageData","moveCanvas","drawCropFrame","self","startErase","buttons","removeEventListener","_self$mouseImgPosDiff","mouseImgPosDiff","eraseCanvasTool_eraseCanvas","addEventListener","clientY","canvasContainerRectPos","clientX","_posStringToNumber","_this$cropFrameCanvas","cropFrameCanvasPosDiff","newImageData","alert","_this$mouseCropFrameP","mouseCropFramePosDiff","xDiff","yDiff","startMove","originalMouseX","originalMouseY","startDraw","originalX","originalY","abs","_this$mouseImgPosDiff","scaleDiff","yCompensate","xCompensate","getBoundingClientRect","canvasRectPos","originalEvent","cropFramePos","_posStringToNumber2","_this","Image","onload","imgWidth","imgHeight","_this$canvasDimension","ratio","drawImage","arguments","undefined","putImageData","_this$canvasDimension2","unshift","pop","_this2","setAttribute","files","reader","FileReader","readAsDataURL","remove","playerFigure_PictureEditvue_type_script_lang_js_","canvasContainerSize","update","imgContentPos","rotate","flip","previewSize","modifiers","number","_n","blur","$forceUpdate","goBack","generatePlayerFigure","PictureCombinevue_type_script_lang_js_","created","inputCanvasData","toCombineCanvasContext","updated","previewCanvasContext","drawCanvasAfterTransform","inputCanvasImg","inputCanvasSize","canvas","toDataURL","toCombineCanvasDOM","canvasContainerDOM","previewCanvasDOM","scheduled","setTimeout","flipScale","around","translate","save","PI","restore","testCanvas","testCanvasCx","topAdjusteds","imgSource","playerSprites","playerFigure_PictureCombinevue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_playerFigure_vue_vue_type_style_index_0_id_be642faa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_playerFigure_vue_vue_type_style_index_0_id_be642faa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PictureCombine_vue_vue_type_style_index_0_id_2b66d9ad_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PictureCombine_vue_vue_type_style_index_0_id_2b66d9ad_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","core","$JSON","stringify","it","apply","is_touch_device","navigator","MaxTouchPoints","msMaxTouchPoints"],"mappings":"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","file":"js/playerFigure.8fdbdfaf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playerFigure\"},[_c('transition',{attrs:{\"name\":\"pageTransition\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"playerFigure\">\n    <transition name=\"pageTransition\">\n      <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport mobileRouterDevice from '@/lib/mobileRouterProtect';\n\nexport default {\n  name: \"playerFigure\",\n  mixins:[mobileRouterDevice],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.playerFigure {\n  padding-top: 50px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playerFigure.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playerFigure.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./playerFigure.vue?vue&type=template&id=be642faa&scoped=true&\"\nimport script from \"./playerFigure.vue?vue&type=script&lang=js&\"\nexport * from \"./playerFigure.vue?vue&type=script&lang=js&\"\nimport style0 from \"./playerFigure.vue?vue&type=style&index=0&id=be642faa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be642faa\",\n  null\n  \n)\n\nexport default component.exports","//由于直接引用的img不能在canvas里不能toDataURL();\n//所以在这里把两个必要结合的身体图放出来，以便结合。\n\nconst oneBodySrc = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA8CAYAAAAgwDn8AAACEElEQVRoQ+2YP0vDUBTFWydxKR3cjYjQrXV2E6GCOjj6BSoO4uji5Oygk/0CTuIggqL4FWwXKTg0OjuULsVJJRcOmIfPl+akNC/cLK9Jc2/eOb93b/6US55vZc/nX1IB0yaoBJQA6YAuIdJAOlwJ0BaSCZQAaSAdrgRoC8kESoA0kA5XArSFZAIlQBpIhysB2kIygRIgDaTDlQBtIZlgYgTuWmvf0dyam/VSeet0YtfJPHEQBDLx7bkv8fZmNCMj9s9e3jO9ZqbJoom6BDRXl0TQRvspk2vTSTBhLOX2/IL8XD9ekfHw6CpG4veSD8OQvj6dwFsBmDgctzUTkHg8eZZTWh9vMmbhfpQnNQFvBZgT77wOY+ZfVAeybyMDAghiSYxNoHACTEf3BlUxt7Fc+bMsckfAGwG2pYM173IeOCAY5yM+bS0kroHCCDCdg7M4jn1XDUyNgHcCsHT65zuxrrJ4cB3bT0rArAX2fuCsgcIJuL/timnRi0q0gUStvmt7HPr3eK97ST0bjU2gMAL2H/oxZ00CYdiT/z+HHRlnKw0Zg6AWi5saAW8EwC7zxQV3ThwHAdN523nIO3EChRFgayUmAZujOA+1gNpI+wyE+Ti7kKs3eivAdBRCbc7mjkDhBLjWdO4JeCNg3KVjtmF0IVfNuJpH6i7krQDbhyx8F3K92yLefHdOGm8jkvg+kFcBP4CLukzprsMQAAAAAElFTkSuQmCC\";\n\nconst headLessBodyGroupSrc = \"data:image/png;base64,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QJCAS11x/XWW3eNV1uNUWfZDAq5rF73vlrX14l0nCbjs9LPga34dodbysR5477UHGTUU67nYXhVWqdxYkWjvZs0K+N51jTrOu2fqtf9amXIpXlZLFP1h1IrSuwWWjXepnqzrti0uaWdBrPhr4TD3cyux1vZ+kQdr2RkJeG81g9k2QycBz3XJ1etJwOvxzE7oSMCbDzvW9QL7bqO0cG1JN/s3niUYloDx5duWQ47S8x9FjlqGolVelj6i85/U8d6WrYb36PY2unyW3SERZ1dUlrzH9fOoHUXHt8It2tKPjo/K7a6AScBRaOeN11olJOB5uFpXk4AthHI/JwHn4i+zRwk1Or7VKqOEGh0fldskYLlhtMKKtiiignvHjyKHV140cPyi617P/UXlPS7j525BjG5vo8tn2VHrgGjNf9I/L7Wf0uta4Y12pD3O6B1XKicJGPaAS4GsfZ22F0kCro306v1IwPNOdbbVjv9bt1rLcVLvX0qkpde1wtlLrN5xpXK634QVnUAjELlPLyIZRY4ofqyESxHLvW50extdPq/2WAl7kaozDrdm5K43bj9Y/mq9EEezO+/1dVZxcBdvou0dVyofCfje9HL/aIu9FPDodayEo4jljh+d4EaXz6s9ErAXqTrjSMATjrV54j+6b6APf3n2UgAAAABJRU5ErkJggg==\"\n\n\n\nfunction createUntaintImage(src) {\n   let img = document.createElement(\"img\")\n   img.src = src;\n   return img;\n}\nlet oneBodyImg = createUntaintImage(oneBodySrc)\nlet headLessBodyGroupImg = createUntaintImage(headLessBodyGroupSrc)\n\nmodule.exports = {\n   oneBodyImg,\n   headLessBodyGroupImg,\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureEdit.vue?vue&type=style&index=0&id=361db587&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureEdit.vue?vue&type=style&index=0&id=361db587&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"pictureEdit\"}},[(_vm.imgSrc.length != 0||_vm.imgData != null)?_c('div',{staticClass:\"pictureEditContainer\"},[_c('div',{staticClass:\"canvasContainer\",style:(_vm.cursor),on:{\"mousedown\":function($event){return _vm.editCanvas($event)},\"mousemove\":function($event){return _vm.getEraserPos($event)}}},[_c('canvas',{staticClass:\"pictureEditCanvas\",style:(_vm.canvasDimension),attrs:{\"width\":_vm.canvasDimension.width,\"height\":_vm.canvasDimension.height}}),(_vm.mode=='crop')?_c('div',{staticClass:\"cropFrame\",style:(_vm.cropFrameDimension),on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.moveCropFrame($event)}}}):(_vm.mode=='erase')?_c('div',{staticClass:\"eraser\",style:(_vm.eraserStyle)}):_vm._e()]),_c('div',{staticClass:\"reInput\",on:{\"click\":function($event){return _vm.reInput()}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"angle-left\"}}),_vm._v(\" \"+_vm._s(_vm.lang === 1 ? \"重新导入\":\"reimport\")+\"\\n    \")],1),_c('div',{staticClass:\"done\",on:{\"click\":function($event){return _vm.done()}}},[_vm._v(\"\\n      \"+_vm._s(_vm.lang === 1 ?\"下一步\":\"next\")+\"\\n      \"),_c('font-awesome-icon',{attrs:{\"icon\":\"angle-right\"}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.scale),expression:\"scale\"}],staticClass:\"resize\",attrs:{\"type\":\"range\",\"min\":\"0.5\",\"max\":\"3\",\"step\":\"0.05\"},domProps:{\"value\":(_vm.scale)},on:{\"input\":function($event){$event.stopPropagation();return _vm.resize($event)},\"__r\":function($event){_vm.scale=$event.target.value}}}),_c('div',{staticClass:\"pictureEdit_toolKit\"},[_c('div',{staticClass:\"drag\",on:{\"click\":function($event){_vm.mode='drag'}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"mouse-pointer\"}})],1),(_vm.mode == 'crop')?_c('div',{staticClass:\"cropState\"},[_c('span',{staticClass:\"cutBtn\",on:{\"click\":function($event){return _vm.cutCanvas()}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"cut\"}})],1),_c('span',{staticClass:\"removeCropFrameBtn\",on:{\"click\":function($event){return _vm.removeCropFrame()}}},[_c('font-awesome-icon',{staticClass:\"fa-sm\",attrs:{\"icon\":\"minus\"}})],1)]):_c('div',{staticClass:\"crop\",on:{\"click\":function($event){_vm.mode='crop'}}},[_c('font-awesome-icon',{staticClass:\"fa-xs\",attrs:{\"icon\":\"crop\"}})],1),(_vm.mode == 'erase')?_c('div',{staticClass:\"eraseState\"},[_c('span',{on:{\"click\":function($event){_vm.eraserStyle.width = _vm.eraserStyle.height = '10px'}}},[_c('font-awesome-icon',{staticClass:\"fa-xs\",attrs:{\"icon\":\"circle\"}})],1),_c('span',{on:{\"click\":function($event){_vm.eraserStyle.width = _vm.eraserStyle.height = '20px'}}},[_c('font-awesome-icon',{staticClass:\"fa-sm\",attrs:{\"icon\":\"circle\"}})],1),_c('span',{on:{\"click\":function($event){_vm.eraserStyle.width = _vm.eraserStyle.height = '30px'}}},[_c('font-awesome-icon',{staticClass:\"fa-2px\",attrs:{\"icon\":\"circle\"}})],1),_c('span',{staticClass:\"removeCropFrameBtn\",on:{\"click\":function($event){_vm.mode = 'drag'}}},[_c('font-awesome-icon',{staticClass:\"fa-sm\",attrs:{\"icon\":\"minus\"}})],1)]):_c('div',{staticClass:\"erase\",on:{\"click\":function($event){_vm.mode='erase'}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"eraser\"}})],1),_c('div',{staticClass:\"undo\",staticStyle:{\"font-weight\":\"blod\"},on:{\"click\":function($event){return _vm.undo()}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"arrow-left\"}})],1),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"↻\")])])]):_vm._e(),_c('br'),(_vm.imgSrc.length == 0&&_vm.imgData == null)?_c('button',{staticClass:\"inputImageBtn\",on:{\"click\":function($event){return _vm.addPicture()}}},[_vm._v(_vm._s(_vm.lang === 1 ?\"导入照片\":\"import photo\"))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function posStringToNumber(input) {\n   if(typeof(input) == 'string'){\n      return Number(input.slice(0, input.length - 2))\n   }else if (typeof(input) == 'object'){\n      let result = JSON.parse(JSON.stringify(input))\n      for (let key of Object.keys(input)){\n         result[key] = posStringToNumber(input[key])\n      }\n      return result\n   }else{\n      return input\n   }\n}","//输入：x,y(圆心),radius,dataImage\n//输出：返回一个dataImage\n\nexport function eraseCanvas(x,y,radius,dataImage){\n   let oneFourthPixelsGroup = getOneFourthPixelsGroup(radius);\n   let removingPixels = [];\n   let boundary = {\n      width: dataImage.width,\n      height: dataImage.height\n   }\n   for (let i = 0;i<oneFourthPixelsGroup.length;i++){\n      for (let j=0;j<oneFourthPixelsGroup[i];j++){\n         let pixelLeft = x - j;\n         let pixelRight = x + j;\n         let pixelTop = y - i;\n         let pixelBottom = y + i;\n         let targetPixelsLeftTop = pixelsToPosition(pixelLeft, pixelTop,boundary);\n         let targetPixelsRightTop = pixelsToPosition(pixelLeft, pixelBottom, boundary);\n         let targetPixelsLeftBottom = pixelsToPosition(pixelRight, pixelTop, boundary);\n         let targetPixelsRightBottom = pixelsToPosition(pixelRight, pixelBottom, boundary);\n         let targetPixels = [targetPixelsLeftTop, targetPixelsRightTop, targetPixelsLeftBottom, targetPixelsRightBottom];\n         targetPixels.forEach(p => {\n            if (p == null) return;\n            if (!removingPixels.includes(p)) {\n               removingPixels.push(p)\n            }\n         })\n      }\n   }\n   for (let i = 0; i < removingPixels.length; i++) {\n      dataImage.data[removingPixels[i] * 4] = 255;\n      dataImage.data[removingPixels[i] * 4 + 1] = 255;\n      dataImage.data[removingPixels[i] * 4 + 2] = 255;\n      dataImage.data[removingPixels[i] * 4 + 3] = 0;\n   }\n   return dataImage\n}\n\nfunction getOneFourthPixelsGroup(radius) {\n   //获得像素点的结构数组。\n   //因为橡皮擦是圆形，为了使得擦出的是圆形，就要知道在这个圆里每一行要擦掉多少个像素。\n   //这个函数利用勾股定理，获得1/4圆部分每行要擦拭多少像素\n   let row = [];\n   for (let i = 0; i < radius; i++) {\n      let pixels1 = Math.sqrt(radius * radius - i * i)\n      let pixels2 = Math.sqrt(radius * radius - (i + 1) * (i + 1))\n      let pixels = Math.round((pixels1 + pixels2) / 2)\n      row.push(pixels)\n   }\n   return row;\n}\n\nfunction pixelsToPosition(widthDiff, heightDiff, limit) {\n   //根据位置与canvasX、Y方向上的差距算出像素点在数组里的位置。\n   if (widthDiff > limit.width || widthDiff < 0 || heightDiff > limit.height || heightDiff < 0) return null;\n   return limit.width * heightDiff + widthDiff;\n}\n\n","<template>\n  <div id=\"pictureEdit\">\n    <div class=\"pictureEditContainer\" v-if=\"imgSrc.length != 0||imgData != null\">\n      <!-- 4个部分：canvasContainer；forward and back button; resize; toolkit -->\n      <!-- canvasContainer -->\n      <div\n        class=\"canvasContainer\"\n        @mousedown=\"editCanvas($event)\"\n        v-bind:style=\"cursor\"\n        @mousemove=\"getEraserPos($event)\"\n      >\n        <canvas\n          class=\"pictureEditCanvas\"\n          v-bind:width=\"canvasDimension.width\"\n          v-bind:height=\"canvasDimension.height\"\n          v-bind:style=\"canvasDimension\"\n        ></canvas>\n        <div\n          class=\"cropFrame\"\n          v-if=\"mode=='crop'\"\n          @mousedown.stop=\"moveCropFrame($event)\"\n          v-bind:style=\"cropFrameDimension\"\n        ></div>\n        <div class=\"eraser\" :style=\"eraserStyle\" v-else-if=\"mode=='erase'\"></div>\n      </div>\n\n      <!-- forward and back arrow -->\n      <div class=\"reInput\" @click=\"reInput()\">\n        <font-awesome-icon icon=\"angle-left\"/> {{lang === 1 ? \"重新导入\":\"reimport\"}}\n      </div>\n      <div class=\"done\" @click=\"done()\">\n        {{lang === 1 ?\"下一步\":\"next\"}}\n        <font-awesome-icon icon=\"angle-right\"/>\n      </div>\n\n      <!-- resize -->\n      <input\n        type=\"range\"\n        min=\"0.5\"\n        max=\"3\"\n        step=\"0.05\"\n        v-model=\"scale\"\n        @input.stop=\"resize($event)\"\n        class=\"resize\"\n      >\n\n      <!-- toolKit -->\n      <div class=\"pictureEdit_toolKit\">\n        <div class=\"drag\" @click=\"mode='drag'\">\n          <font-awesome-icon icon=\"mouse-pointer\"/>\n        </div>\n        <div v-if=\"mode == 'crop'\" class=\"cropState\">\n          <span @click=\"cutCanvas()\" class=\"cutBtn\">\n            <font-awesome-icon icon=\"cut\"/>\n          </span>\n          <span @click=\"removeCropFrame()\" class=\"removeCropFrameBtn\">\n            <font-awesome-icon icon=\"minus\" class=\"fa-sm\"/>\n          </span>\n        </div>\n        <div v-else class=\"crop\" @click=\"mode='crop'\">\n          <font-awesome-icon icon=\"crop\" class=\"fa-xs\"/>\n        </div>\n        <div v-if=\"mode == 'erase'\" class=\"eraseState\">\n          <span @click=\"eraserStyle.width = eraserStyle.height = '10px'\">\n            <font-awesome-icon icon=\"circle\" class=\"fa-xs\"/>\n          </span>\n          <span @click=\"eraserStyle.width = eraserStyle.height = '20px'\">\n            <font-awesome-icon icon=\"circle\" class=\"fa-sm\"/>\n          </span>\n          <span @click=\"eraserStyle.width = eraserStyle.height = '30px'\">\n            <font-awesome-icon icon=\"circle\" class=\"fa-2px\"/>\n          </span>\n          <span @click=\"mode = 'drag'\" class=\"removeCropFrameBtn\">\n            <font-awesome-icon icon=\"minus\" class=\"fa-sm\"/>\n          </span>\n        </div>\n        <div v-else class=\"erase\" @click=\"mode='erase'\">\n          <font-awesome-icon icon=\"eraser\"/>\n        </div>\n        <div class=\"undo\" @click=\"undo()\" style=\"font-weight:blod\">\n          <font-awesome-icon icon=\"arrow-left\"/>\n        </div>\n        <div class=\"reset\" @click=\"reset()\">&#8635;</div>\n      </div>\n    </div>\n    <br>\n\n    <!-- 导入照片 -->\n    <button\n      @click=\"addPicture()\"\n      v-if=\"imgSrc.length == 0&&imgData == null\"\n      class=\"inputImageBtn\"\n    >{{lang === 1 ?\"导入照片\":\"import photo\"}}</button>\n  </div>\n</template>\n\n<script>\nimport { posStringToNumber } from \"./lib/posStringToNumber\";\nimport { eraseCanvas as goErase } from \"./lib/eraseCanvasTool\";\nimport mobileRouterDevice from '@/lib/mobileRouterProtect';\n\nexport default {\n  name: \"pictureEdit\",\n  mixins:[mobileRouterDevice],\n  mounted: function() {\n    // 如果图片已经加载了，就不用重头再来\n    if (this.imgData == null) return;\n    let { x, y } = this.$store.state.playerFigure;\n    this.drawCanvas(this.imgData, x, y);\n    this.historyUpdate();\n  },\n  data: function() {\n    return {\n      imgSrc: \"\",\n      historyData: [],\n      canvasDimension: {\n        width: 700,\n        height: 400,\n        top: 0,\n        left: 0,\n        transform: \"scale(1)\"\n      },\n      scale: 1,\n      cropFrameDimension: {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0\n      },\n      mode: \"drag\",\n      eraserStyle: {\n        width: \"10px\",\n        height: \"10px\",\n        top: \"0px\",\n        left: \"0px\"\n      }\n    };\n  },\n  computed: {\n    imgData: function() {\n      //从store里调取保存的数据\n      return this.$store.state.playerFigure.imgData;\n    },\n    context: function() {\n      return document.querySelector(\".pictureEditCanvas\").getContext(\"2d\");\n    },\n    canvasContainer: function() {\n      if (this.imgSrc.length == 0 && this.imgData == null) return null;\n      return document.getElementsByClassName(\"canvasContainer\")[0];\n    },\n    canvasDOM: function() {\n      if (this.imgSrc.length == 0 && this.imgData == null) return null;\n      return document.getElementsByClassName(\"pictureEditCanvas\")[0];\n    },\n    lang(){\n      return this.$store.state.lang\n    },\n    cursor: function() {\n      switch (this.mode) {\n        case \"drag\":\n          return { cursor: \"default\" };\n          break;\n        case \"crop\":\n          return { cursor: \"crosshair\" };\n          break;\n        case \"erase\":\n          return { cursor: \"none\" };\n          break;\n      }\n    }\n  },\n  methods: {\n    //reInput\n    reInput() {\n      //清空数据，重新导入图片\n      this.$store.commit(\"playerFigure/clearAll\");\n      this.imgSrc = \"\";\n      //这里有点难看，直接push回playerFigure的话，由于复用当前实例，会出错，遗留从前的数据\n      //如计算属性里面的context索引还是从前的。\n      //所以导航到/playerFigure/combine,由于src数据为空，combine又会重新倒回来，组件实例被刷新\n      this.$router.push(\"/playerFigure/combine\");\n    },\n    uploadData() {\n      let { x, y, width, height } = this.$store.state.playerFigure;\n      width = width == null ? this.canvasDimension.width : width;\n      height = height == null ? this.canvasDimension.height : height;\n      let data = this.context.getImageData(x, y, width, height);\n      this.$store.commit(\"playerFigure/uploadImgData\", {\n        imgData: data,\n        width: width,\n        height: height\n      });\n    },\n    //完成，把x,y传上去\n    done() {\n      let confirm = window.confirm(`${this.lang === 1 ?\"已完成剪切，要进入下一步？\":\"Complete croping and want to go next?\"}`);\n      if (confirm == false) return;\n      this.uploadData();\n      this.$router.push({ path: \"/playerFigure/combine\" });\n    },\n    //放大缩小\n    resize(event) {\n      this.canvasDimension.transform = `scale(${event.target.value})`;\n    },\n    //重置\n    reset() {\n      if (this.imgSrc == \"\") this.imgSrc = this.$store.state.playerFigure.src;\n      this.context.clearRect(\n        0,\n        0,\n        this.canvasDimension.width,\n        this.canvasDimension.height\n      );\n      this.initCanvas();\n    },\n    //撤回\n    undo() {\n      if (this.historyData.length < 2) return;\n      this.historyData.shift();\n      let { imageData } = this.historyData[0];\n      this.drawCanvas(imageData);\n    },\n    //处理canvas\n    editCanvas(event) {\n      switch (this.mode) {\n        case \"drag\":\n          return this.moveCanvas(event);\n          break;\n        case \"crop\":\n          return this.drawCropFrame(event);\n          break;\n        case \"erase\":\n          return this.eraseCanvas(event);\n          break;\n      }\n    },\n    //橡皮擦功能\n    eraseCanvas(event) {\n      let self = this;\n      this.canvasContainer.addEventListener(\"mousemove\", startErase);\n\n      function startErase(event) {\n        if (event.buttons == 0) {\n          self.canvasContainer.removeEventListener(\"mousemove\", startErase);\n          self.historyUpdate();\n        }\n        let { widthDiff, heightDiff } = self.mouseImgPosDiff(event);\n        let radius = Math.round(\n          posStringToNumber(self.eraserStyle.width) / self.scale / 2\n        );\n        let x = Math.round(widthDiff / self.scale) + radius;\n        let y = Math.round(heightDiff / self.scale) + radius;\n        let imageData = self.context.getImageData(\n          0,\n          0,\n          self.canvasDimension.width,\n          self.canvasDimension.height\n        );\n        goErase(x, y, radius, imageData);\n        self.drawCanvas(imageData);\n      }\n    },\n    //橡皮擦跟随鼠标移动\n    getEraserPos(event) {\n      if (this.mode != \"erase\") return;\n      this.eraserStyle.top =\n        event.clientY - this.canvasContainerRectPos().top + \"px\";\n      this.eraserStyle.left =\n        event.clientX - this.canvasContainerRectPos().left + \"px\";\n    },\n    //移除cropFrame\n    removeCropFrame() {\n      this.cropFrameDimension.width = 0;\n      this.cropFrameDimension.height = 0;\n      this.mode = \"drag\";\n    },\n    //剪切canvas\n    cutCanvas() {\n      let { width, height } = posStringToNumber(this.cropFrameDimension);\n      if (width == 0 || height == 0) {\n        alert(\"点击并拖动鼠标选择要剪切的区域\");\n        return;\n      }\n      let { widthDiff, heightDiff } = this.cropFrameCanvasPosDiff();\n      let x = widthDiff / this.scale;\n      let y = heightDiff / this.scale;\n      let newImageData = this.context.getImageData(\n        x,\n        y,\n        width / this.scale,\n        height / this.scale\n      );\n      //上传有内容的图像到store里\n      this.$store.commit(\"playerFigure/uploadImgData\", {\n        x: x,\n        y: y,\n        width: width / this.scale,\n        height: height / this.scale\n      });\n      this.drawCanvas(newImageData, x, y);\n      this.historyUpdate();\n      this.removeCropFrame();\n    },\n    //移动cropFrame\n    moveCropFrame(event) {\n      let self = this;\n      let { xDiff, yDiff } = this.mouseCropFramePosDiff(event);\n      self.canvasContainer.addEventListener(\"mousemove\", startMove);\n      function startMove(event) {\n        if (event.buttons == 0) {\n          self.canvasContainer.removeEventListener(\"mousemove\", startMove);\n        }\n        self.cropFrameDimension.top =\n          event.clientY - self.canvasContainerRectPos().top - yDiff + \"px\";\n        self.cropFrameDimension.left =\n          event.clientX - self.canvasContainerRectPos().left - xDiff + \"px\";\n      }\n    },\n    //画cropFrame\n    drawCropFrame(event) {\n      let self = this;\n      let originalMouseX = event.clientX;\n      let originalMouseY = event.clientY;\n      this.canvasContainer.addEventListener(\"mousemove\", startDraw);\n      let originalX = originalMouseX - this.canvasContainerRectPos().left;\n      let originalY = originalMouseY - this.canvasContainerRectPos().top;\n\n      function startDraw(event) {\n        if (event.buttons == 0) {\n          self.canvasContainer.removeEventListener(\"mousemove\", startDraw);\n        }\n        let xDiff = event.clientX - originalMouseX;\n        let yDiff = event.clientY - originalMouseY;\n        self.cropFrameDimension.width = Math.abs(xDiff) + \"px\";\n        self.cropFrameDimension.height = Math.abs(yDiff) + \"px\";\n        self.cropFrameDimension.top =\n          yDiff > 0 ? originalY + \"px\" : originalY + yDiff + \"px\";\n        self.cropFrameDimension.left =\n          xDiff > 0 ? originalX + \"px\" : originalX + xDiff + \"px\";\n      }\n    },\n    //拖动canvas\n    moveCanvas(event) {\n      let self = this;\n      let { widthDiff, heightDiff } = this.mouseImgPosDiff(event);\n      self.canvasContainer.addEventListener(\"mousemove\", startMove);\n      function startMove(event) {\n        if (event.buttons == 0) {\n          self.canvasContainer.removeEventListener(\"mousemove\", startMove);\n        }\n        self.canvasDimension.top =\n          event.clientY -\n          self.canvasContainerRectPos().top -\n          heightDiff +\n          self.scaleDiff().yCompensate +\n          \"px\";\n        self.canvasDimension.left =\n          event.clientX -\n          self.canvasContainerRectPos().left -\n          widthDiff +\n          self.scaleDiff().xCompensate +\n          \"px\";\n      }\n    },\n    //获取位置信息\n    canvasContainerRectPos: function() {\n      return this.canvasContainer.getBoundingClientRect();\n    },\n    canvasRectPos: function() {\n      return this.canvasDOM.getBoundingClientRect();\n    },\n    mouseImgPosDiff: function(originalEvent) {\n      return {\n        widthDiff: originalEvent.clientX - this.canvasRectPos().left,\n        heightDiff: originalEvent.clientY - this.canvasRectPos().top\n      };\n    },\n    cropFrameCanvasPosDiff: function() {\n      let cropFramePos = document\n        .getElementsByClassName(\"cropFrame\")[0]\n        .getBoundingClientRect();\n      return {\n        widthDiff: cropFramePos.left - this.canvasRectPos().left,\n        heightDiff: cropFramePos.top - this.canvasRectPos().top\n      };\n    },\n    mouseCropFramePosDiff: function(originalEvent) {\n      let cropFramePos = document\n        .getElementsByClassName(\"cropFrame\")[0]\n        .getBoundingClientRect();\n      return {\n        xDiff: originalEvent.clientX - cropFramePos.left,\n        yDiff: originalEvent.clientY - cropFramePos.top\n      };\n    },\n    scaleDiff: function() {\n      //scale 改变后，top，left数据没有发生变化，但实际上是变化了的，需要“补偿“变化的部分\n      let { top, left } = posStringToNumber(this.canvasDimension);\n      return {\n        xCompensate:\n          left -\n          (this.canvasRectPos().left - this.canvasContainerRectPos().left),\n        yCompensate:\n          top - (this.canvasRectPos().top - this.canvasContainerRectPos().top)\n      };\n    },\n    //首次加载图片\n    initCanvas() {\n      if (this.imgSrc.length == 0) return;\n      //首次加载\n      let img = new Image();\n      img.src = this.imgSrc;\n      this.$store.commit(\"playerFigure/uploadImgSrc\", this.imgSrc);\n      img.onload = () => {\n        let imgWidth = img.width;\n        let imgHeight = img.height;\n        let { width, height } = this.canvasDimension;\n        //保证整个图片能囊括在canva里面，并自动填满canvas。\n        let ratio =\n          width / imgWidth < height / imgHeight\n            ? width / imgWidth\n            : height / imgHeight;\n        this.context.drawImage(img, 0, 0, imgWidth * ratio, imgHeight * ratio);\n        //使得图片居中\n        this.canvasDimension.top =\n          (this.canvasContainerRectPos().height - imgHeight * ratio) / 2 + \"px\";\n        this.canvasDimension.left =\n          (this.canvasContainerRectPos().width - imgWidth * ratio) / 2 + \"px\";\n        //上传图片实际大小\n        this.$store.commit(\"playerFigure/uploadImgData\", {\n          width: imgWidth * ratio,\n          height: imgHeight * ratio\n        });\n        this.historyUpdate();\n      };\n    },\n    //根据数据来画画\n    drawCanvas(imgData, x = 0, y = 0) {\n      this.context.clearRect(\n        0,\n        0,\n        this.canvasDimension.width,\n        this.canvasDimension.height\n      );\n      this.context.putImageData(imgData, x, y);\n    },\n    //把canvas数据放到history中\n    historyUpdate() {\n      //获得全canvas数据\n      //x,y,width,height表示有内容的地方。\n      let { width, height } = this.canvasDimension;\n      let newImageData = this.context.getImageData(0, 0, width, height);\n      this.historyData.unshift({\n        imageData: newImageData\n      });\n      if (this.historyData.length > 10) {\n        this.historyData.pop();\n      }\n    },\n    //添加图片\n    addPicture() {\n      let input = document.createElement(\"input\");\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"accept\", \"image/*\");\n      input.addEventListener(\"change\", () => {\n        if (input.files[0] == null) return;\n        let reader = new FileReader();\n        reader.addEventListener(\"load\", () => {\n          this.imgSrc = reader.result;\n          this.initCanvas();\n        });\n        reader.readAsDataURL(input.files[0]);\n      });\n      input.click();\n      input.remove();\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/lib/_consistentStyle.scss\";\n\n%move-effect {\n  cursor: grab;\n}\n\n$border-color: lightBlue;\n\n.inputImageBtn {\n  @include buttonStyle(120px, 50px);\n  font-size: 15px;\n  margin-top: 150px;\n}\n\n.pictureEditContainer {\n  position: relative;\n}\n\n//canvascontainer\n.canvasContainer {\n  border: 0.5px solid $border-color;\n  width: 100%;\n  height: 500px;\n  position: relative;\n  overflow: scroll;\n  background-color: #fcfcfc;\n\n  canvas {\n    position: absolute;\n  }\n\n  .cropFrame {\n    position: absolute;\n    border: 2px black dashed;\n\n    &:hover {\n      @extend %move-effect;\n      border-color: red;\n    }\n  }\n\n  .eraser {\n    position: absolute;\n    border-radius: 50%;\n    background-color: lightcyan;\n    z-index: 1;\n  }\n}\n\n//forward and back button\n.reInput {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  color: black;\n  height: 30px;\n  padding: 5px;\n  font-size: 15px;\n  line-height: 20px;\n  transition: background-color 0.3s;\n  border-bottom-right-radius: 5px;\n\n  &:hover {\n    color:#03a9f4;\n    cursor: pointer;\n    background-color: black;\n    opacity: 0.6;\n  }\n}\n.done {\n  @extend .reInput;\n  border-bottom-right-radius: 0px;\n  border-bottom-left-radius: 5px;\n  right: 0;\n}\n\n//resize\n.resize {\n  z-index: 1;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  left: 50%;\n  transform: translateX(-50%);\n  width:100px;\n}\n\n//toolkit\n.pictureEdit_toolKit {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n\n  .drag,\n  .crop,\n  .erase,\n  .undo,\n  .reset {\n    display: inline-block;\n    border: 1px solid $border-color;\n    background-color: #d2caca;\n    padding: 0 3px;\n    border-top: none;\n    opacity: 0.8;\n    transition: background-color 0.3s;\n    &:hover {\n      cursor: pointer;\n      background-color: white;\n    }\n  }\n\n  .eraseState,\n  .cropState {\n    background-color: white;\n    border: 1px solid $border-color;\n    display: inline-block;\n    span {\n      padding: 0 3px;\n      overflow: hidden;\n      &:hover {\n        cursor: pointer;\n        background-color: #03a9f4;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PictureEdit.vue?vue&type=template&id=361db587&scoped=true&\"\nimport script from \"./PictureEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./PictureEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictureEdit.vue?vue&type=style&index=0&id=361db587&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"361db587\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"pictureCombine\"}},[_c('div',{staticClass:\"canvasContainer\",style:({width:_vm.canvasContainerSize.width+'px',height:_vm.canvasContainerSize.height+'px'}),on:{\"mousedown\":function($event){return _vm.moveCanvas($event)}}},[_c('canvas',{staticClass:\"toCombineCanvas\",attrs:{\"width\":_vm.canvasContainerSize.width,\"height\":_vm.canvasContainerSize.height,\"update\":_vm.imgContentPos.top + _vm.imgContentPos.left + _vm.rotate + _vm.flip}}),_c('div',{staticClass:\"previewContainer\",style:({width:_vm.previewSize.width+'px',height:_vm.previewSize.height+'px'})},[_c('canvas',{staticClass:\"previewCanvas\",attrs:{\"width\":_vm.previewSize.width,\"height\":_vm.previewSize.height}})])]),_c('div',{staticClass:\"resize\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.scale),expression:\"scale\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"min\":\"0.5\",\"max\":\"3\",\"step\":\"0.05\"},domProps:{\"value\":(_vm.scale)},on:{\"__r\":function($event){_vm.scale=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"goback\",on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(_vm._s(_vm.lang === 1 ?\"返回\":\"Back\"))]),_c('div',{staticClass:\"done\",on:{\"click\":function($event){return _vm.generatePlayerFigure()}}},[_vm._v(_vm._s(_vm.lang === 1 ?\"下一步\":\"Next >\"))]),_c('div',{staticClass:\"adjustOptions\"},[_c('span',{staticClass:\"leftRotate\",on:{\"click\":function($event){_vm.rotate-=5}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"undo\"}})],1),_c('div',{staticClass:\"flip\",on:{\"click\":function($event){_vm.flip = !_vm.flip}}},[_vm._v(\"↔\")]),_c('span',{staticClass:\"rightRotate\",on:{\"click\":function($event){_vm.rotate+=5}}},[_vm._v(\"↻\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"pictureCombine\">\n    <!-- canvasContainer -->\n    <div\n      class=\"canvasContainer\"\n      @mousedown=\"moveCanvas($event)\"\n      :style=\"{width:canvasContainerSize.width+'px',height:canvasContainerSize.height+'px'}\"\n    >\n      <canvas\n        class=\"toCombineCanvas\"\n        :width=\"canvasContainerSize.width\"\n        :height=\"canvasContainerSize.height\"\n        :update=\"imgContentPos.top + imgContentPos.left + rotate + flip\"\n      ></canvas>\n      <div\n        class=\"previewContainer\"\n        :style=\"{width:previewSize.width+'px',height:previewSize.height+'px'}\"\n      >\n        <canvas class=\"previewCanvas\" :width=\"previewSize.width\" :height=\"previewSize.height\"></canvas>\n      </div>\n    </div>\n\n    <!-- resize -->\n    <div class=\"resize\">\n      <input type=\"range\" min=\"0.5\" max=\"3\" step=\"0.05\" v-model.number=\"scale\">\n    </div>\n\n    <!-- back and go  -->\n    <div class=\"goback\" @click=\"goBack()\">{{lang === 1 ?\"返回\":\"Back\"}}</div>\n    <div class=\"done\" @click=\"generatePlayerFigure()\">{{lang === 1 ?\"下一步\":\"Next >\"}}</div>\n\n    <!-- options -->\n    <div class=\"adjustOptions\">\n      <span class=\"leftRotate\" @click=\"rotate-=5\">\n        <font-awesome-icon icon=\"undo\"/>\n      </span>\n      <div class=\"flip\" @click=\"flip = !flip\">&#8596;</div>\n      <span class=\"rightRotate\" @click=\"rotate+=5\">&#8635;</span>\n    </div>\n\n    <!-- <img class='testImg'> -->\n  </div>\n</template>\n\n<script>\nimport { headLessBodyGroupImg } from \"./lib/imgSource.js\";\n\nexport default {\n  name: \"PictureCombine\",\n\n  created: function() {\n    //如果没有图片数据，就返回编辑页\n    if (this.inputCanvasData == null) {\n      this.$router.push({ path: \"/playerFigure\" });\n    }\n  },\n  mounted: function() {\n    //起始的时候把图片放上去\n    if (this.inputCanvasData == null) return;\n    this.toCombineCanvasContext.putImageData(this.inputCanvasData, 0, 0);\n  },\n  updated: function() {\n    //清除canvas\n    this.toCombineCanvasContext.clearRect(\n      0,\n      0,\n      this.canvasContainerSize.width,\n      this.canvasContainerSize.height\n    );\n    this.previewCanvasContext.clearRect(\n      0,\n      0,\n      this.previewSize.width,\n      this.previewSize.height\n    );\n\n    //开始画\n    //使用drawImage来画\n    //不使用putImageData是因为putImageData不接受transform的作用。\n    //toCombinedCanvas\n    this.drawCanvasAfterTransform(\n      this.inputCanvasImg,\n      this.toCombineCanvasContext,\n      this.imgContentPos.left,\n      this.imgContentPos.top,\n      this.inputCanvasSize.width, //需要调整\n      this.inputCanvasSize.height\n    );\n    this.drawCanvasAfterTransform(\n      this.inputCanvasImg,\n      this.previewCanvasContext,\n      this.imgContentPos.left * this.ratio,\n      this.imgContentPos.top * this.ratio,\n      this.inputCanvasSize.width * this.ratio,\n      this.inputCanvasSize.height * this.ratio\n    );\n  },\n  data: function() {\n    return {\n      scale: 1,\n      rotate: 0,\n      flip: false,\n      imgContentPos: {\n        top: 0,\n        left: 0\n      },\n      previewSize: {\n        width: 48,\n        height: 60\n      },\n      canvasContainerSize: {\n        width: 320,\n        height: 400\n      }\n    };\n  },\n  computed: {\n    //获取store的数据\n    inputCanvasData: function() {\n      return this.$store.state.playerFigure.imgData;\n    },\n    inputCanvasSize: function() {\n      return {\n        width: this.$store.state.playerFigure.width,\n        height: this.$store.state.playerFigure.height\n      };\n    },\n    inputCanvasImg: function() {\n      if (this.inputCanvasData == null) return null;\n      let canvas = document.createElement(\"canvas\");\n      canvas.width = this.inputCanvasSize.width;\n      canvas.height = this.inputCanvasSize.height;\n      let context = canvas.getContext(\"2d\");\n      context.putImageData(this.inputCanvasData, 0, 0);\n      let img = new Image();\n      img.src = canvas.toDataURL();\n      return img;\n    },\n    //获得视图信息\n    toCombineCanvasDOM: function() {\n      let canvas = document.getElementsByClassName(\"toCombineCanvas\");\n      return canvas[0];\n    },\n    toCombineCanvasContext: function() {\n      return this.toCombineCanvasDOM.getContext(\"2d\");\n    },\n    canvasContainerDOM: function() {\n      let canvas = document.getElementsByClassName(\"canvasContainer\");\n      return canvas[0];\n    },\n    previewCanvasDOM: function() {\n      let canvas = document.getElementsByClassName(\"previewCanvas\");\n      return canvas[0];\n    },\n    previewCanvasContext: function() {\n      return this.previewCanvasDOM.getContext(\"2d\");\n    },\n    //大小canvas的比例\n    ratio: function() {\n      return this.previewSize.width / this.canvasContainerSize.width;\n    },\n    lang(){\n      return this.$store.state.lang\n    }\n  },\n  methods: {\n    //返回\n    goBack() {\n      this.$router.push({ path: \"/playerFigure\" });\n    },\n    //移动canvas\n    moveCanvas: function(event) {\n      let self = this;\n      let { widthDiff, heightDiff } = this.mouseImgPosDiff(event);\n      self.canvasContainerDOM.addEventListener(\"mousemove\", startMove);\n      let scheduled = null;\n      function startMove(event) {\n        if (!scheduled) {\n          setTimeout(() => {\n            if (event.buttons == 0) {\n              self.canvasContainerDOM.removeEventListener(\n                \"mousemove\",\n                startMove\n              );\n            }\n            self.imgContentPos.left = event.clientX - widthDiff;\n            self.imgContentPos.top = event.clientY - heightDiff;\n            scheduled = null;\n          }, 60);\n        }\n        scheduled = event;\n      }\n    },\n    //位置信息\n    mouseImgPosDiff: function(originalEvent) {\n      return {\n        widthDiff: originalEvent.clientX - this.imgContentPos.left,\n        heightDiff: originalEvent.clientY - this.imgContentPos.top\n      };\n    },\n    drawCanvasAfterTransform(img, context, left, top, width, height) {\n      context.save()\n      context.translate(left, top);\n      if (this.flip == true) {\n        flipScale(context, width / 2, this.scale);\n      } else {\n        context.scale(this.scale, this.scale);\n      }\n      context.rotate((this.rotate * Math.PI) / 180);\n      context.drawImage(img, 0, 0, width, height);\n      context.restore();\n      function flipScale(context, around, scale) {\n        context.translate(around, 0);\n        context.scale(-scale, scale);\n        context.translate(-around, 0);\n      }\n    },\n    //生成图像\n    generatePlayerFigure() {\n      let testCanvas = document.createElement(\"canvas\");\n      //根据实际大小调整\n      testCanvas.width = 480;\n      testCanvas.height = 600;\n      let testCanvasCx = testCanvas.getContext(\"2d\");\n      let topAdjusteds = [2, -2, -3, -4, 2, -2, -3, -3, 0, -3];\n      testCanvasCx.drawImage(headLessBodyGroupImg, 0, 0);\n      for (let i = 0; i < 10; i++) {\n        this.drawCanvasAfterTransform(\n          this.inputCanvasImg,\n          testCanvasCx,\n          this.imgContentPos.left * this.ratio + 48 * i,\n          this.imgContentPos.top * this.ratio + topAdjusteds[i],\n          this.inputCanvasSize.width * this.ratio,\n          this.inputCanvasSize.height * this.ratio\n        );\n      }\n      // 用来测试\n      // let img = new Image();\n      // img.setAttribute('width','480');\n      // img.setAttribute('height','60');\n      // img.src = testCanvas.toDataURL();\n      // document.body.appendChild(img);\n      this.$store.commit(\"gameLevel/changeGlobalPlayerSetting\", {\n        playerSprites: testCanvas.toDataURL()\n      });\n      this.$router.push(\"/entireGame\");\n    }\n  }\n};\n</script>\n\n<style scoped lang='scss'>\n%hover-effect {\n  cursor: pointer;\n  opacity: 0.8;\n}\n%background {\n  background-image: url(\"../../pic/playerFigure/oneBody.png\");\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n\n#pictureCombine {\n  position: relative;\n  width: 320px;\n  margin: auto;\n  overflow: hidden;\n}\n\n.canvasContainer {\n  border: 0.5px solid lightblue;\n  position: relative;\n  background-color: #fcfcfc;\n  @extend %background;\n\n  .toCombineCanvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  .previewContainer {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    border: 1px solid lightblue;\n    @extend %background;\n  }\n}\n\n.resize {\n  display: inline;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.goback {\n  display: inline;\n  position: absolute;\n  left: -35px;\n  top: 0;\n  border: 1px solid lightblue;\n  padding: 0 5px;\n  border-bottom-right-radius: 5px;\n  background-color: #d2caca;\n  transition: all 0.3s;\n  &:hover {\n    cursor: pointer;\n    background-color: white;\n    left: 0;\n  }\n}\n\n.done {\n  display: inline;\n  position: absolute;\n  right: -50px;\n  top: 0;\n  border: 1px solid lightblue;\n  padding: 0 5px;\n  border-bottom-left-radius: 5px;\n  background-color: #d2caca;\n  transition: right 0.3s;\n  &:hover {\n    cursor: pointer;\n    background-color: white;\n    right: 0;\n  }\n}\n\n.adjustOptions {\n  .leftRotate {\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    transition: transform 0.3s;\n    color: #03a9f4;\n    padding: 7px;\n    font-size: 20px;\n    &:hover {\n      @extend %hover-effect;\n      transform: translateY(-50%) rotate(-60deg);\n    }\n  }\n  .rightRotate {\n    position: absolute;\n    right: 0;\n    top: 50%;\n    transform: translateY(-50%) rotate(30deg);\n    -moz-transform: translateY(-50%) rotate(100deg);\n    font-size: 30px;\n    transition: transform 0.3s;\n    color: #03a9f4;\n    padding: 5px;\n    &:hover {\n      @extend %hover-effect;\n      transform: translateY(-50%) rotate(120deg);\n      -moz-transform: translateY(-50%) rotate(180deg);\n    }\n  }\n  @supports (-moz-appearance: none) {\n      .rightRotate {\n       font-size: 45px;\n      }\n    }\n    \n  .flip {\n    position: absolute;\n    display: inline-block;\n    top: 330px;\n    left: -20px;\n    padding: 0 5px;\n    border: 1px solid lightblue;\n    background-color: lightblue;\n    transition: all 0.3s;\n    border-radius: 0 5px 5px 0;\n    &:hover {\n      @extend %hover-effect;\n      background-color: #03a9f4;\n      left: 0;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureCombine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureCombine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PictureCombine.vue?vue&type=template&id=2b66d9ad&scoped=true&\"\nimport script from \"./PictureCombine.vue?vue&type=script&lang=js&\"\nexport * from \"./PictureCombine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictureCombine.vue?vue&type=style&index=0&id=2b66d9ad&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b66d9ad\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playerFigure.vue?vue&type=style&index=0&id=be642faa&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playerFigure.vue?vue&type=style&index=0&id=be642faa&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureCombine.vue?vue&type=style&index=0&id=2b66d9ad&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureCombine.vue?vue&type=style&index=0&id=2b66d9ad&scoped=true&lang=scss&\"","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","export default {\n   created(){\n      if (this.is_touch_device()) {\n         alert(`${this.lang === 1 ?\"游戏设计需在电脑端完成，以获得最佳体验\"\n         :\"To get the best experience, please start your design on computer.\"}`)\n         this.$router.push('/')\n      }\n   },\n   methods:{\n      is_touch_device() {\n         return (\n            \"ontouchstart\" in window ||\n            navigator.MaxTouchPoints > 0 ||\n            navigator.msMaxTouchPoints > 0\n         );\n      },\n   }\n}","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}